---
title: Types of SQL Commands
author: Michael Fuchs
date: '2021-05-13'
slug: types-of-sql-commands
categories: []
tags: []
output:
  blogdown::html_page:
    toc: true
    toc_depth: 5
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>
<link href="/rmarkdown-libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="/rmarkdown-libs/anchor-sections/anchor-sections.js"></script>

<div id="TOC">
<ul>
<li><a href="#introduction">1 Introduction</a></li>
<li><a href="#types-of-sql-commands">2 Types of SQL Commands</a>
<ul>
<li><a href="#data-definition-language-ddl">2.1 Data Definition Language (DDL)</a></li>
<li><a href="#data-query-language-dql">2.2 Data Query Language (DQL)</a></li>
<li><a href="#data-manipulation-language-dml">2.3 Data Manipulation Language (DML)</a></li>
<li><a href="#data-control-language-dcl">2.4 Data Control Language (DCL)</a></li>
<li><a href="#transaction-control-language-tcl">2.5 Transaction Control Language (TCL)</a>
<ul>
<li><a href="#preparation">2.5.1 Preparation</a></li>
<li><a href="#update-a-table">2.5.2 Update a Table</a></li>
<li><a href="#transactions">2.5.3 TRANSACTIONS</a>
<ul>
<li><a href="#commit-transaction">2.5.3.1 COMMIT TRANSACTION</a></li>
<li><a href="#rollbacks">2.5.3.2 ROLLBACKS</a></li>
<li><a href="#savepoints">2.5.3.3 SAVEPOINTS</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="#conclusion">3 Conclusion</a></li>
</ul>
</div>

<div id="introduction" class="section level1">
<h1>1 Introduction</h1>
<p>After I have already written some posts about different SQL functions I would like to write a structure-bringing publication at this point again.</p>
<p>In the following I will explain the different SQL command types:</p>
<ul>
<li>Data Definition Language (DDL)</li>
<li>Data Query Language (DQL)</li>
<li>Data Manipulation Language (DML)</li>
<li>Data Control Language (DCL)</li>
<li>Transaction Control Language (TCL)</li>
</ul>
</div>
<div id="types-of-sql-commands" class="section level1">
<h1>2 Types of SQL Commands</h1>
<div id="data-definition-language-ddl" class="section level2">
<h2>2.1 Data Definition Language (DDL)</h2>
<p>DDL describes the SQL commands that can be used to define a database schema. They are mostly used for creating and changing the structure of database objects in the database.</p>
<p>Examples of DDL commands:</p>
<ul>
<li><a href="https://michael-fuchs-sql.netlify.app/2021/03/07/create-a-database/#create-a-new-table">CREATE</a> - create the database or its objects</li>
<li><a href="https://michael-fuchs-sql.netlify.app/2021/03/07/create-a-database/#delete-the-whole-table">DROP</a> - delete objects</li>
<li><a href="https://michael-fuchs-sql.netlify.app/2021/03/10/create-a-1-1-relationship/#connecting-the-two-tables">ALTER</a> - alter the structure of objects</li>
<li><a href="https://michael-fuchs-sql.netlify.app/2021/03/07/create-a-database/#delete-the-entire-content">TRUNCATE</a> - remove all records from a table</li>
</ul>
</div>
<div id="data-query-language-dql" class="section level2">
<h2>2.2 Data Query Language (DQL)</h2>
<p>DQL statements are used to query data within schema objects.</p>
<p>An example of this would be:</p>
<ul>
<li><a href="https://michael-fuchs-sql.netlify.app/2021/03/07/create-a-database/#a-glimpse-at-the-new-table">SELECT</a> - retrieve data from the database</li>
</ul>
</div>
<div id="data-manipulation-language-dml" class="section level2">
<h2>2.3 Data Manipulation Language (DML)</h2>
<p>The commands from this category deal with the manipulation of the data inside the database.</p>
<p>Examples of DML commands:</p>
<ul>
<li><a href="https://michael-fuchs-sql.netlify.app/2021/03/07/create-a-database/#inserting-values-into-the-table">INSERT</a> - insert data into a table</li>
<li><a href="https://michael-fuchs-sql.netlify.app/2021/05/08/update-a-table/#update-command">UPDATE</a> - update existing data within a table</li>
<li><a href="https://michael-fuchs-sql.netlify.app/2021/03/07/create-a-database/#delete-specific-rows">DELETE</a> - delete records from a database table</li>
</ul>
</div>
<div id="data-control-language-dcl" class="section level2">
<h2>2.4 Data Control Language (DCL)</h2>
<p>DCL commands mainly deal with the permissions and other controls of the database system.</p>
<p>Examples of DCL commands:</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/sql/t-sql/statements/grant-transact-sql?view=sql-server-ver15">GRANT</a> - allows users read and write access to the database</li>
<li><a href="https://docs.microsoft.com/en-us/sql/t-sql/statements/revoke-object-permissions-transact-sql?view=sql-server-ver15">REVOKE</a> - withdraw users read and write access to the database</li>
</ul>
</div>
<div id="transaction-control-language-tcl" class="section level2">
<h2>2.5 Transaction Control Language (TCL)</h2>
<p>I want to go into a little more detail on this section, since I haven’t covered it in any other post of mine.</p>
<p>Transactions bundles a group of tasks together into a single unit of execution. Each transaction starts with a specific task and ends when all tasks in the group complete successfully. If any of the tasks fail, the transaction fails. Therefore, a transaction has only two outcomes: Success or failure.</p>
<p><a href="https://www.ibm.com/docs/en/cics-ts/5.4?topic=processing-acid-properties-transactions">Transactions have the following four standard properties, usually referred to by the acronym ACID.</a></p>
<ul>
<li><a href="https://www.geeksforgeeks.org/acid-properties-in-dbms/">Atomicity</a> − ensures that all operations within the work unit are completed successfully. Otherwise, the transaction is aborted at the point of failure and all the previous operations are rolled back to their former state.</li>
<li><a href="https://www.geeksforgeeks.org/acid-properties-in-dbms/">Consistency</a> − ensures that the database properly changes states upon a successfully committed transaction.</li>
<li><a href="https://www.geeksforgeeks.org/acid-properties-in-dbms/">Isolation</a> − enables transactions to operate independently of and transparent to each other.</li>
<li><a href="https://www.geeksforgeeks.org/acid-properties-in-dbms/">Durability</a> − ensures that the result or effect of a committed transaction persists in case of a system failure</li>
</ul>
<p><strong>Transaction Control</strong></p>
<p>I will use the following commands to control transactions:</p>
<ul>
<li>COMMIT − to save the changes</li>
<li>ROLLBACK − to roll back the changes</li>
</ul>
<div id="preparation" class="section level3">
<h3>2.5.1 Preparation</h3>
<p>For the following examples, I set up a new database.</p>
<pre class="r"><code>SET LANGUAGE ENGLISH


CREATE DATABASE SQL_Types;


USE SQL_Types;</code></pre>
<p>Now I will quickly create a simple example data set:</p>
<pre class="r"><code>CREATE TABLE Employees
    (Employee_ID INT NOT NULL PRIMARY KEY,
     Job_Titel VARCHAR(100),
     Name VARCHAR(100) NOT NULL,
     Age INT NOT NULL)
    ;


INSERT INTO Employees VALUES (1, &#39;Consultant&#39;, &#39;Klara&#39;, 35)
INSERT INTO Employees VALUES (2, &#39;Consultant&#39;, &#39;Emily&#39;, 44)
INSERT INTO Employees VALUES (3, &#39;Consultant&#39;, &#39;Jessy&#39;, 22)
INSERT INTO Employees VALUES (4, &#39;Consultant&#39;, &#39;Max&#39;, 50)
INSERT INTO Employees VALUES (5, &#39;Consultant&#39;, &#39;Tom&#39;, 18)</code></pre>
<pre class="r"><code>SELECT * FROM Employees;</code></pre>
<p><img src="/post/2021-05-13-types-of-sql-commands_files/p21p1.png" /></p>
</div>
<div id="update-a-table" class="section level3">
<h3>2.5.2 Update a Table</h3>
<p>Let’s say I want to change the contents of a table for certain people, for example the job title. We can do that as follows:</p>
<pre class="r"><code>UPDATE Employees
    SET Job_Titel = &#39;Senior Consultant&#39;
    ;</code></pre>
<pre class="r"><code>SELECT * FROM Employees;</code></pre>
<p><img src="/post/2021-05-13-types-of-sql-commands_files/p21p2.png" /></p>
<p>Oops. Now I have accidentally changed the content of the column for all persons. <strong>With such an error I can destroy the complete table.</strong></p>
<p>Therefore, I will have to <strong>set it up again</strong>.</p>
</div>
<div id="transactions" class="section level3">
<h3>2.5.3 TRANSACTIONS</h3>
<p>To prevent such an error, I can use Transactions.</p>
<p>Here again the original table that I restored:</p>
<pre class="r"><code>SELECT * FROM Employees;</code></pre>
<p><img src="/post/2021-05-13-types-of-sql-commands_files/p21p3.png" /></p>
<p>I can initiate a transcation with the following command. At the same time <strong>I use ROLLBACK so that it is not executed</strong>.</p>
<pre class="r"><code>BEGIN TRANSACTION Change_Title  
    UPDATE Employees
        SET Job_Titel = &#39;Senior Consultant&#39;
ROLLBACK TRANSACTION Change_Title  
;</code></pre>
<p><img src="/post/2021-05-13-types-of-sql-commands_files/p21p4.png" /></p>
<p>I see here in the output that 5 lines would be affected. At this point I would notice that something is wrong with my command.</p>
<p>I <strong>forgot to use a WHERE statement</strong> to narrow down the group of people.</p>
<pre class="r"><code>BEGIN TRANSACTION Change_Title  
    UPDATE Employees
        SET Job_Titel = &#39;Senior Consultant&#39;
        WHERE Age &gt; 40
ROLLBACK TRANSACTION Change_Title  
;</code></pre>
<p><img src="/post/2021-05-13-types-of-sql-commands_files/p21p5.png" /></p>
<p>Perfect. This statement is now <strong>correct</strong>.</p>
<p>But so far my table has not changed, see here:</p>
<pre class="r"><code>SELECT * FROM Employees;</code></pre>
<p><img src="/post/2021-05-13-types-of-sql-commands_files/p21p6.png" /></p>
<div id="commit-transaction" class="section level4">
<h4>2.5.3.1 COMMIT TRANSACTION</h4>
<p>Now that I have validated that my statement is correct using the Transaction commands shown earlier, I can perform the transaction. This can be done with the COMMIT command.</p>
<pre class="r"><code>BEGIN TRANSACTION Change_Title  
    UPDATE Employees
        SET Job_Titel = &#39;Senior Consultant&#39;
        WHERE Age &gt; 40
COMMIT TRANSACTION Change_Title 
;</code></pre>
<pre class="r"><code>SELECT * FROM Employees;</code></pre>
<p><img src="/post/2021-05-13-types-of-sql-commands_files/p21p7.png" /></p>
<p>Now the title of the correct group of people has been changed.</p>
</div>
<div id="rollbacks" class="section level4">
<h4>2.5.3.2 ROLLBACKS</h4>
<p>However, TCL offers other useful functions to be able to validate a transaction. The so-called ROLLBACKS. With this I have the possibility to reset the previously made transaction if I notice that it was not quite correct.</p>
<p>This becomes clear in the following example. I would like to change the title of certain persons again.
This time I use the following commands:</p>
<pre class="r"><code>BEGIN TRANSACTION Change_Title_2 

  BEGIN TRY

    UPDATE Employees
        SET Job_Titel = &#39;Junior Consultant&#39;
        WHERE Age &lt; 25

  END TRY

  BEGIN CATCH

      ROLLBACK TRANSACTION Change_Title_2

  END CATCH  
  ;</code></pre>
<p>Here I have instructed a transaction with the desired changes but have not yet used a COMMIT.
But the changes are <strong>already visible</strong> in the table:</p>
<pre class="r"><code>SELECT * FROM Employees;</code></pre>
<p><img src="/post/2021-05-13-types-of-sql-commands_files/p21p8.png" /></p>
<p>If I realize at this point that I have made a mistake, I <strong>can reverse the transaction</strong>:</p>
<pre class="r"><code>ROLLBACK TRANSACTION Change_Title_2;</code></pre>
<pre class="r"><code>SELECT * FROM Employees;</code></pre>
<p><img src="/post/2021-05-13-types-of-sql-commands_files/p21p9.png" /></p>
<p>We see, I <strong>get my old table back</strong>.</p>
<p>I now run <strong>the same transaction</strong> again and then use the COMMIT command:</p>
<pre class="r"><code>BEGIN TRANSACTION Change_Title_2 

  BEGIN TRY

    UPDATE Employees
        SET Job_Titel = &#39;Junior Consultant&#39;
        WHERE Age &lt; 25

  END TRY

  BEGIN CATCH

      ROLLBACK TRANSACTION Change_Title_2

  END CATCH  
  ;</code></pre>
<pre class="r"><code>SELECT * FROM Employees;</code></pre>
<p><img src="/post/2021-05-13-types-of-sql-commands_files/p21p10.png" /></p>
<p>We see the table has changed again as before.
And this time i use COMMIT:</p>
<pre class="r"><code>COMMIT TRANSACTION Change_Title_2;</code></pre>
<p>Now the transaction is through and cannot be changed:</p>
<pre class="r"><code>SELECT * FROM Employees;</code></pre>
<p><img src="/post/2021-05-13-types-of-sql-commands_files/p21p10.png" /></p>
<p><strong>Even if I tried a ROLLBACK now, it would fail:</strong></p>
<pre class="r"><code>ROLLBACK TRANSACTION Change_Title_2;</code></pre>
<p><img src="/post/2021-05-13-types-of-sql-commands_files/p21p11.png" /></p>
</div>
<div id="savepoints" class="section level4">
<h4>2.5.3.3 SAVEPOINTS</h4>
<p>A topic that I will not present now as an example but I also did not want to withhold from you are <strong>SAVEPOINTS</strong>.</p>
<p>These can be set at different places within the grouped tasks of a transaction to which one can jump back <strong>with the help of a ROLLBACK</strong>. In this way one avoids that the complete transaction has to be executed again, but prevents in the same step that erroneous task packages are taken over.</p>
</div>
</div>
</div>
</div>
<div id="conclusion" class="section level1">
<h1>3 Conclusion</h1>
<p>In this post, I went into detail about the different categories of SQL language. These were:</p>
<ul>
<li>Data Definition Language (DDL)</li>
<li>Data Query Language (DQL)</li>
<li>Data Manipulation Language (DML)</li>
<li>Data Control Language (DCL)</li>
<li>Transaction Control Language (TCL)</li>
</ul>
</div>
